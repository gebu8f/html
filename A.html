<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Rules</title>
</head>
<body>

  <div class="rule">
    <label for="gameRules">Select a Game Rule:</label>
    <select id="gameRules" class="form-control">
      <option value="selectRule" data-type="none" data-description="請選擇">請選擇</option>
      <option value="announceAdvancements_1.12" data-type="boolean" data-description="是否在聊天框中公告玩家進度的達成">Announce Advancements</option>
      <option value="blockExplosionDropDecay_1.19.3" data-type="boolean" data-description="由方塊源（除TNT）爆炸炸毀的方塊是否會有機率不掉落">Block Explosion Drop Decay</option>
      <option value="maxCommandChainLength" data-type="integer" data-description="透過/function指令執行指令的最大數量">Max Command Chain Length</option>
      <!-- Add more rules similarly -->
    </select>

    <label for="ruleValues">Select a Value:</label>
    <select id="ruleValues" class="form-control">
      <option value="selectValue" data-type="none">請選擇</option>
      <option value="true" data-type="boolean">true</option>
      <option value="false" data-type="boolean">false</option>
      <!-- Add more boolean options similarly -->
    </select>

    <input type="number" id="numberValue" class="form-control" style="display: none" />

    <p class="version">版本: 1.19.3</p>
    <p class="description">描述: 遊戲規則的描述將在此顯示</p>

    <span class="generatedCommand" id="generatedCommandParagraph">生成指令: /gamerules </span>

    <button id="copyCommandButton">複製生成指令</button>
  </div>

  <!-- Add more rules similarly -->
<script>
  const gameRulesSelect = document.getElementById('gameRules');
  const ruleValuesSelect = document.getElementById('ruleValues');
  const numberValueInput = document.getElementById('numberValue');
  const versionParagraph = document.querySelector('.version');
  const descriptionParagraph = document.querySelector('.description');
  const generatedCommandParagraph = document.getElementById('generatedCommandParagraph');
  const copyCommandButton = document.getElementById('copyCommandButton');

  gameRulesSelect.addEventListener('change', function () {
    const selectedOption = gameRulesSelect.options[gameRulesSelect.selectedIndex];
    const type = selectedOption.getAttribute('data-type');
    const description = selectedOption.getAttribute('data-description');

    if (type === 'boolean') {
      ruleValuesSelect.style.display = 'block';
      numberValueInput.style.display = 'none';
    } else if (type === 'integer') {
      ruleValuesSelect.style.display = 'none';
      numberValueInput.style.display = 'block';
      // Reset input value to ensure it's not negative
      numberValueInput.value = '';
    } else {
      ruleValuesSelect.style.display = 'none';
      numberValueInput.style.display = 'none';
    }

    const version = selectedOption.value.split('_')[1];
    versionParagraph.textContent = `版本: ${version}`;
    descriptionParagraph.textContent = `描述: ${description}`;
    updateGeneratedCommand();
  });

  ruleValuesSelect.addEventListener('change', function () {
    updateGeneratedCommand();
  });

  numberValueInput.addEventListener('input', function () {
    // Ensure the input value is non-negative
    numberValueInput.value = Math.max(0, numberValueInput.value);
    updateGeneratedCommand();
  });

  copyCommandButton.addEventListener('click', function () {
    const commandText = generatedCommandParagraph.textContent.split(': ')[1];
    navigator.clipboard.writeText(commandText).then(() => {
      alert('已複製生成指令！');
    }).catch((error) => {
      alert('複製指令失敗', error);
    });
  });

  function updateGeneratedCommand() {
    const type = gameRulesSelect.options[gameRulesSelect.selectedIndex].getAttribute('data-type');
    let value;
    if (type === 'boolean') {
      value = ruleValuesSelect.options[ruleValuesSelect.selectedIndex].text;
    } else if (type === 'integer') {
      value = numberValueInput.value;
    } else {
      value = '';
    }

    const selectedRule = gameRulesSelect.value.split('_')[0];
    generatedCommandParagraph.innerHTML = `生成指令: /gamerules ${selectedRule} ${value}`;
  }
</script>

</body>
</html>
  
